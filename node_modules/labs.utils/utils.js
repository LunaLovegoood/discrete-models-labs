const fs = require('fs');

const first = arr => arr[0];
const last = arr => arr[arr.length - 1];

const getInputFilePath = argv => {
    const inputFilePath = argv[2];
    if (!inputFilePath) {
        console.log('Please provide path to input file.');
        process.exit(1);
    }
    if (!fs.existsSync(inputFilePath)) {
        console.log(`File "${inputFilePath}" doesn't exist.`);
        process.exit(1);
    }
    if (!inputFilePath.endsWith('.json')) {
        console.log('Input file should be a JSON file.');
        process.exit(1);
    }
    return inputFilePath;
};

module.exports = {
    getInputFilePath,
    first,
    last
};
